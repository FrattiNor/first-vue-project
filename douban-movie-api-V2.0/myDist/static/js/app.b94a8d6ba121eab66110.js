webpackJsonp([1],{"0JLP":function(t,e){},"19mF":function(t,e,i){"use strict";var s={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"waibox"},[e("div",{staticClass:"box"},[e("div",{staticClass:"loading"}),this._v(" "),e("div",{staticClass:"zs"}),this._v(" "),e("div",{staticClass:"zx"}),this._v(" "),e("div",{staticClass:"ys"}),this._v(" "),e("div",{staticClass:"yx"}),this._v(" "),e("div",{staticClass:"loading2"})])])}]};e.a=s},"1hTM":function(t,e){},"6cPl":function(t,e){},KgXo:function(t,e,i){"use strict";var s=i("0JLP"),n=i.n(s),a=i("19mF");var o=function(t){i("mTgp")},r=i("VU/8")(n.a,a.a,!1,o,null,null);e.default=r.exports},Loem:function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("7+uW"),n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vheader"},[i("router-link",{staticClass:"headd",attrs:{tag:"span",to:{name:"vbody"}}},[t._v("\n    douban API movies\n  ")]),i("br"),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],attrs:{type:"text"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}),t._v(" "),i("router-link",{attrs:{tag:"button",to:{name:"searchResult",query:{search:t.search}}}},[t._v("搜索")])],1)},staticRenderFns:[]};var a=i("VU/8")({name:"vheader",data:function(){return{search:""}},mounted:function(){},methods:{}},n,!1,function(t){i("Loem")},"data-v-0d5d522c",null).exports,o=i("//Fk"),r=i.n(o),c=i("mtWM"),l=i.n(c);function v(t){return new r.a(function(e,i){l.a.get(t).then(function(t){e(t.data)})})}function u(t){return function(t){return v(""+t)}("api/movie/"+t+"?start="+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)+"&count="+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:21))}function m(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return v(encodeURI("api/movie/search?q="+t+"&start="+e))}var h=i("KgXo"),d={components:{loading:h.default},data:function(){return{index:0,show:!1,moviesmore:"更多",movieInTheater:{},movieComingSoon:{}}},mounted:function(){var t=this;u("in_theaters",0,9).then(function(e){t.movieInTheater=e,t.movieInTheater.type="in_theaters",t.index++,2==t.index&&(t.show=!0)}),u("coming_soon",0,9).then(function(e){t.movieComingSoon=e,t.movieComingSoon.type="coming_soon",t.index++,2==t.index&&(t.show=!0)}),this.index=0},updated:function(){},destroyed:function(){}},_={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.show?i("div",[i("div",{staticClass:"title"},[i("span",{staticClass:"movieListTitle"},[t._v(t._s(t.movieInTheater.title))]),t._v(" "),i("router-link",{staticClass:"more",attrs:{to:{name:"movieMore",query:{type:t.movieInTheater.type}},tag:"span"}},[t._v(t._s(t.moviesmore))])],1),t._v(" "),i("div",{staticClass:"movie"},[i("ul",{staticClass:"ull"},t._l(t.movieInTheater.subjects,function(e){return i("li",{staticClass:"lii"},[i("router-link",{attrs:{tag:"div",to:{name:"movieDetail",query:{id:e.id}}}},[i("div",{staticClass:"img"},[i("img",{staticClass:"imgshow",attrs:{src:e.images.large}})]),t._v(" "),i("p",{staticClass:"movieName"},[t._v(t._s(e.title))])])],1)}))]),t._v(" "),i("div",{staticClass:"title"},[i("span",{staticClass:"movieListTitle"},[t._v(t._s(t.movieComingSoon.title))]),t._v(" "),i("router-link",{staticClass:"more",attrs:{to:{name:"movieMore",query:{type:t.movieComingSoon.type}},tag:"span"}},[t._v(t._s(t.moviesmore))])],1),t._v(" "),i("div",{staticClass:"movie"},[i("ul",{staticClass:"ull"},t._l(t.movieComingSoon.subjects,function(e){return i("li",{staticClass:"lii"},[i("router-link",{attrs:{tag:"div",to:{name:"movieDetail",query:{id:e.id}}}},[i("div",{staticClass:"img"},[i("img",{staticClass:"imgshow",attrs:{src:e.images.large}})]),t._v(" "),i("p",{staticClass:"movieName"},[t._v(t._s(e.title))])])],1)}))])]):t._e(),t._v(" "),i("loading",{directives:[{name:"show",rawName:"v-show",value:!t.show,expression:"!show"}]})],1)},staticRenderFns:[]};var f=i("VU/8")(d,_,!1,function(t){i("whb9")},null,null).exports,p={components:{loading:h.default},data:function(){return{movie:{},search:"",show:!1}},mounted:function(){var t=this;this.search=this.$route.query.search,m(this.search,0).then(function(e){t.movie=e,t.show=!0})},watch:{$route:function(t,e){console.log(t.query.search),console.log(e.query.search),this.search=this.$route.query.search},search:function(){var t=this;this.search=this.$route.query.search,m(this.search,0).then(function(e){t.movie=e,t.show=!0})}}},g={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",[i("div",{staticClass:"title"},[i("span",{staticClass:"movieListTitle"},[t._v('搜索"'+t._s(t.search)+'"的结果')])]),t._v(" "),i("div",{staticClass:"movie"},[i("ul",{staticClass:"ull"},t._l(t.movie.subjects,function(e){return i("li",{staticClass:"lii"},[i("router-link",{attrs:{tag:"div",to:{name:"movieDetail",query:{id:e.id}}}},[i("div",{staticClass:"img"},[i("img",{staticClass:"imgshow",attrs:{src:e.images.large}})]),t._v(" "),i("p",{staticClass:"movieName"},[t._v(t._s(e.title))])])],1)}))])]),t._v(" "),i("loading",{directives:[{name:"show",rawName:"v-show",value:!t.show,expression:"!show"}]})],1)},staticRenderFns:[]};var C=i("VU/8")(p,g,!1,function(t){i("tNlr")},null,null).exports,w={name:"movie",components:{movieBody:f,searchResult:C}},y={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("movieBody")],1)},staticRenderFns:[]},b=i("VU/8")(w,y,!1,null,null,null).exports,x={name:"App",components:{vheader:a}},T={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("vheader"),this._v(" "),e("router-view")],1)},staticRenderFns:[]};var q=i("VU/8")(x,T,!1,function(t){i("6cPl")},null,null).exports,R=i("/ocq"),j=i("bqTm"),N=i.n(j);s.a.use(N.a);var $={components:{loading:h.default},directives:{InfiniteScroll:N.a},data:function(){return{movies:{subjects:[]},show:!0,type:"",busy:!1,count:15}},mounted:function(){this.type=this.$route.query.type},methods:{loadMore:function(){var t=this;this.busy=!0;var e=this.movies.subjects.length;u(this.type,e,this.count).then(function(e){t.count=6,t.movies.title=e.title,t.movies.subjects=t.movies.subjects.concat(e.subjects),t.busy=!1}),this.show=!1}}},M={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{directives:[{name:"show",rawName:"v-show",value:!t.show,expression:"!show"},{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],attrs:{"infinite-scroll-disabled":"busy","infinite-scroll-distance":"10"}},[i("div",{staticClass:"title"},[i("p",{staticClass:"movieListTitle"},[t._v(t._s(t.movies.title))])]),t._v(" "),i("div",{staticClass:"movie"},[i("ul",{staticClass:"ull"},t._l(t.movies.subjects,function(e){return i("li",{staticClass:"lii"},[i("router-link",{attrs:{tag:"div",to:{name:"movieDetail",query:{id:e.id}}}},[i("div",{staticClass:"img"},[i("img",{staticClass:"imgshow",attrs:{src:e.images.large}})]),t._v(" "),i("p",{staticClass:"movieName"},[t._v(t._s(e.title))])])],1)}))])]),t._v(" "),i("loading",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}]})],1)},staticRenderFns:[]};var F=i("VU/8")($,M,!1,function(t){i("1hTM")},null,null).exports,k={components:{loading:h.default},data:function(){return{movie:{images:{large:{}},casts:{reduce:function(){}},countries:{join:function(){}},genres:{join:function(){}},directors:[{name:""}]},show:!0,id:""}},mounted:function(){var t,e=this;this.id=this.$route.query.id,(t=this.id,v("api/movie/subject/"+t)).then(function(t){e.movie=t,e.show=!1})},computed:{getMeta:function(){var t=this.movie.casts.reduce(function(t,e){return t?t+" / "+e.name:e.name},"");return this.movie.countries.join(" / ")+" / "+this.movie.genres.join(" / ")+" / "+this.movie.directors[0].name+"(导演) / "+t},getOriginalTitle:function(){return/([A-Za-z])/g.test(this.movie.original_title)?this.movie.original_title:""}}},I={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",[i("h1",{staticClass:"DetailTitle"},[t._v(t._s(t.movie.title))]),t._v(" "),i("h2",[t._v(t._s(t.getOriginalTitle))]),t._v(" "),i("img",{staticClass:"detailImg",attrs:{src:t.movie.images.large}}),t._v(" "),i("p",[t._v(t._s(t.getMeta))]),t._v(" "),i("p",{staticClass:"DetailJuqing"},[t._v(t._s(t.movie.title)+"的剧情介绍")]),t._v(" "),i("p",{staticClass:"Detail"},[t._v(t._s(t.movie.summary))])]),t._v(" "),i("loading",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}]})],1)},staticRenderFns:[]};var D=i("VU/8")(k,I,!1,function(t){i("RnR3")},null,null).exports;s.a.use(R.a);var E=new R.a({routes:[{path:"/",name:"vbody",component:b},{path:"/movieMore",name:"movieMore",component:F},{path:"/movieDetail",name:"movieDetail",component:D},{path:"/searchResult",name:"searchResult",component:C}]});s.a.config.productionTip=!1,new s.a({el:"#app",router:E,components:{App:q},template:"<App/>"})},RnR3:function(t,e){},mTgp:function(t,e){},tNlr:function(t,e){},whb9:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.b94a8d6ba121eab66110.js.map